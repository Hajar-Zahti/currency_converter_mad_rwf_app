<div class="dashboard-container">
  <!-- Sidebar -->
  <div class="sidebar" [class.collapsed]="isSidebarCollapsed">
    <div class="sidebar-header">
      <h2 *ngIf="!isSidebarCollapsed">Admin Panel</h2>
      <h2 *ngIf="isSidebarCollapsed">AP</h2>
      <button class="toggle-btn" (click)="toggleSidebar()">
        {{ isSidebarCollapsed ? 'â†’' : 'â†' }}
      </button>
    </div>

    <nav class="sidebar-nav">
      <ul>
        <li [class.active]="currentRoute.includes('/admin/dashboard')">
          <a routerLink="/admin/dashboard" title="Dashboard">
            <i class="icon">ğŸ“Š</i>
            <span *ngIf="!isSidebarCollapsed">Dashboard</span>
          </a>
        </li>
        <li [class.active]="currentRoute.includes('/admin/transactions')">
          <a routerLink="/admin/transactions" title="Transactions">
            <i class="icon">ğŸ’³</i>
            <span *ngIf="!isSidebarCollapsed">Transactions</span>
          </a>
        </li>
        <li [class.active]="currentRoute.includes('/admin/users')">
          <a routerLink="/admin/users" title="Users">
            <i class="icon">ğŸ‘¥</i>
            <span *ngIf="!isSidebarCollapsed">Users</span>
          </a>
        </li>
        <li [class.active]="currentRoute.includes('/admin/logs')">
          <a routerLink="/admin/logs" title="Logs">
            <i class="icon">ğŸ“‹</i>
            <span *ngIf="!isSidebarCollapsed">Logs</span>
          </a>
        </li>
      </ul>
    </nav>

    <div class="sidebar-footer" *ngIf="!isSidebarCollapsed">
      <div class="user-card">
        <div class="avatar">{{ (user.fullName) }}</div>
        <div class="user-info">
          <strong>{{ user.fullName || 'Admin' }}</strong>
          <small>{{ user.email || 'admin@bank.com' }}</small>
          <div class="badge badge-admin">{{ user.role || 'ADMIN' }}</div>
        </div>
      </div>
      <button class="logout-btn" (click)="logout()" title="Logout">
        <i class="icon"></i> <span>Logout</span>
      </button>
    </div>

    <div class="sidebar-footer-collapsed" *ngIf="isSidebarCollapsed">
      <button class="logout-btn" (click)="logout()" title="Logout">ğŸšª</button>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content" [class.expanded]="isSidebarCollapsed">
    <!-- Top Navigation Bar -->
    <div class="top-nav">
      <div class="breadcrumb">
        <span>{{ getPageTitle() }}</span>
      </div>
      <div class="top-nav-right">
        <div class="stats">
          <div class="stat-item">
            <span class="stat-label">Users</span>
            <span class="stat-value">{{ stats.totalUsers }}</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Transactions</span>
            <span class="stat-value">{{ stats.totalTransactions }}</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Balance</span>
            <span class="stat-value">{{ stats.totalBalance | currency:'MAD' }}</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Active</span>
            <span class="stat-value">{{ stats.activeUsers }}</span>
          </div>
        </div>
        <div class="user-menu">
          <div class="user-greeting">
            Hello, <strong>{{ user.fullName || 'Admin' }}</strong>
          </div>
          <div class="notifications">
            <button class="notification-btn" title="Notifications">
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Router Outlet for content -->
    <div class="content-area">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>
